


ClientId should be opaque to the end user. This is mapped to a sink in
the websocket server.

Broadcast all MessageFromServer to all clients, and let client code code
stuff in the chat room depending on the UI state.

  Outgoing bandwidth may be bigger this way, but processing (selecting
  which clients to send messages to) is simpler.




websockets-snap package is probably what you're looking for

http://hackage.haskell.org/package/websockets-snap

?
Use Either for all processMsg?


install postgis


 2012  psql -d geochat -f postgis.sql
 2013  psql -d geochat -f spatial_ref_sys.sql 
 2014  psql -d geochat -f postgis_comments.sql 



------------------------------------------------------------------------



Need to switch to using a spatial index on lat lng for comparisions

Also, calculating the target clients in the POSTgis layer and then pick
out targets using Map 

  INSTEAD OF using inBounds in Main.hs



http://postgis.refractions.net/documentation/manual-1.3/ch03.html

